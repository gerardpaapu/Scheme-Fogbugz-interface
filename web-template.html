<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Timesheet interface</title>
        <link rel="Stylesheet" type="text/css" href="css/reset.css" media="screen" />
        <link rel="Stylesheet" type="text/css" href="css/styles.css" media="screen" />
    </head>
    <body>
        <div id="MainContainer">
            <a id="Logout" href="/logout">logout</a>
            @when[current-case]{
                @list{
                <div id="CurrentCase">
                    <span class="description">
                        You're working on <q>@(case-title current-case)</q>
                    </span>
                    <a id="StopWork" href="@stop-work-url">Stop Work</a>
                </div>
               }
            }
            @in[(project cases) estimated/grouped]{
                <h2> @project </h2>
                    <ul>
                    @in[case cases]{
                        <li class="@(case-class case)">
                            <a class="details" href="http://fogbugz.phosphor.co.nz/default.asp?@(case-id case)">
                                @(case-id case)
                            </a>
                            <a class="startWork" href="@(start-work-url case)">
                                @(case-title case)
                            </a>
                        </li>
                    }
                    </ul>
    
            }
    
            @when[(not (null? unestimated))]{
                @list{
                    <h2>Add an estimate</h2>
                    <ul>
                      @in[case unestimated]{
                      <li class="unestimated">
                        <a class="details" href="http://fogbugz.phosphor.co.nz/default.asp?@(case-id case)">@(case-id case)</a>
                        @(case-project case) - 
                        @(case-title case)
                        <ul class="estimates">
                            <li> <a href="@(set-estimate-url (case-id case) 0.5)">half an hour</a> </li>
                            <li> <a href="@(set-estimate-url (case-id case) 1)">an hour</a> </li>
                            <li> <a href="@(set-estimate-url (case-id case) 2)">two hours</a> </li>
                            <li> <a href="@(set-estimate-url (case-id case) 4)">four hour</a> </li>
                        </li>
                      </li>
                      }
                  </ul>
              }
            }
        </div>
    </body>
</html>
